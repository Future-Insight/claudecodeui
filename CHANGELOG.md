# 更新日志

此文件记录项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)，
项目遵循 [语义化版本控制](https://semver.org/spec/v2.0.0.html)。

## [100.1.0] - 2025-08-23

### 新增
- 紧凑布局界面优化，提升用户体验
- 会话切换时的加载覆盖层优化
- 临时会话存储和创建中弹窗模态框
- 增强的会话管理体验
- 会话状态管理，支持创建和活动状态
- 普通Shell连接功能，增强shell管理
- 最新消息加载功能
- GitPanel 和 SetupForm 组件的中文界面支持
- 工作目录支持和错误通知
- Claude环境变量生成，优化shell会话管理
- 新的SVG图标和API配置管理
- ChatInterface组件的持久权限模式
- 基于会话的消息存储和持久化
- 会话状态管理（获取和更新会话状态）
- Docker部署配置，支持环境变量和Nginx反向代理
- 日志页面和预览日志组件，支持实时日志查看
- 项目预览和预览配置组件

### 更改
- 优化会话切换时加载覆盖层样式
- 项目更新处理现在只更新指定项目，调整前端状态管理
- 将消息组件中的用户标签从中文"你"更新为英文"You"
- 依赖版本更新
- 增强消息组件样式和处理逻辑
- 优化消息组件样式，提升可读性
- 增强消息组件，添加工具使用错误处理和Grep工具结果显示
- 改进开发服务器启动流程
- 在侧边栏组件中替换清理旧会话按钮图标为RotateCcw
- 通过移除冗余日志输出和消息清理逻辑，增强ChatInterface组件性能
- 更新会话选择逻辑，添加空会话处理并优化加载状态显示
- 更新缓存名称为'claude-ui-v2'，改善缓存管理
- 在侧边栏中将会话请求数量从5增加到10，优化会话计数显示
- 将每页消息限制增加到50
- 优化会话摘要长度限制，添加加载状态覆盖层
- 改进消息类型显示，增强工具类型的视觉表现
- 增强差异计算函数，简化行比较逻辑
- 改进用户消息显示样式，简化代码结构
- 增强ReactMarkdown内联代码显示和样式
- 添加对pre标签的支持，优化MessageComponent中的代码块显示
- 增强会话处理，支持光标并改进消息排序
- 在MainContent中添加提供商logo用于会话指示
- 实现会话消息分页支持，增强加载逻辑
- 增强MCP服务器管理，支持配置文件

### 移除
- 所有Whisper语音转录和相关功能
- 完全移除Cursor支持，专注于Claude Code功能
- Tmux状态检查和聊天组件中的相关复杂性
- Tmux管理器实现，替换为shell会话管理
- MessageComponent中的冗余文件内容提示信息
- ChatInterface组件中未使用的变量和调试日志
- 剩余的cursor代码清理
- ChatInterface和MainContent组件的会话保护逻辑
- ToolsSettings组件中引入保存错误的不必要项目获取

### 修复
- 修复TodoList组件中的key属性，确保唯一性并避免渲染问题
- 修复MessageComponent中工具结果的错误处理，优化convertSessionMessages函数
- 修复cursor代码清理期间的运行时错误
- 修复侧边栏组件图标替换错误
- 修复ReactMarkdown内联代码显示问题
- 修复MessageComponent中工具结果错误处理
- 修复"截断消息"错误
- 修复Windows支持的跨平台兼容性
- 修复侧边栏显示，仅显示文件夹名称而非完整路径
- 修复服务器配置中的默认端口从3000改为3001
- 修复websocket代理配置
- 修复模态覆盖层的意外透明度

### 安全
- 增强身份验证中间件
- 改进会话管理安全性


## [1.7.0] - 2024-01-15

### 新增
- 聊天界面中的令牌限制重置时间通知
- Cursor CLI支持，增强聊天消息处理
- 会话摘要更新功能
- 使用限制消息格式增强

### 更改
- 通过追加助手消息增强消息处理
- 改进会话更新时的项目刷新触发
- 通过DAG结构增强会话检索，用于blob处理
- 改进会话中的JSON消息提取
- 简化输入区域布局，移除未使用的提供商选择组件

### 修复
- 消息计数检索现在正确计算会话中的JSON blob
- 增强ChatInterface中的加载逻辑

## [1.6.0] - 2023-12-20

### 新增
- ToolsSettings中MCP服务器配置的JSON导入支持
- 增强MCP服务器管理，支持配置文件
- 改进MCP服务器的CLI交互

### 更改
- 增强ToolsSettings组件，支持从JSON加载
- 更新以支持添加项目MCP服务器

### 修复
- 移除引起设置保存错误的不必要项目获取